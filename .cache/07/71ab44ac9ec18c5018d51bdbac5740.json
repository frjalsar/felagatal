{"id":"6cRX","dependencies":[{"name":"/home/bergurh/Vinna/frjalsar/felagatal-app/package.json","includedInParent":true,"mtime":1564530478870},{"name":"superagent","loc":{"line":284,"column":18},"parent":"/home/bergurh/Vinna/frjalsar/felagatal-app/src/views/idkandi.vue","resolved":"/home/bergurh/Vinna/frjalsar/felagatal-app/node_modules/superagent/lib/client.js"},{"name":"kennitala-utility","loc":{"line":285,"column":24},"parent":"/home/bergurh/Vinna/frjalsar/felagatal-app/src/views/idkandi.vue","resolved":"/home/bergurh/Vinna/frjalsar/felagatal-app/node_modules/kennitala-utility/js/index.js"}],"generated":{"js":"\"use strict\";Object.defineProperty(exports,\"__esModule\",{value:!0}),exports.default=void 0;var t=u(require(\"superagent\")),e=require(\"kennitala-utility\");function u(t){return t&&t.__esModule?t:{default:t}}var n={name:\"Idkandi\",data:function(){return{working:!1,athlete:{},countries:[],clubs:[],updated:null}},mounted:function(){var e=this;t.default.get(\"https://frjalsar.azurewebsites.net/athletes/\"+this.$route.params.id).then(function(t){e.athlete=t.body[0]}),t.default.get(\"https://restcountries.eu/rest/v2/all\").then(function(t){e.countries=t.body.map(function(t){return{name:t.nativeName,code:t.alpha3Code}})}),t.default.get(\"https://frjalsar.azurewebsites.net/clubs/\").then(function(t){e.clubs=t.body})},methods:{validSSNR:function(){return(0,e.isValid)(this.athlete.ssnr)},update:function(){var e=this;return this.working=!0,t.default.put(\"https://frjalsar.azurewebsites.net/athletes\").send(this.athlete).then(function(t){e.updated=!!t.body.id,e.working=!1,setTimeout(function(){e.updated=!1},2e3)})},removeClub:function(t){this.athlete.clubs.splice(t,1)},addClub:function(){this.athlete.clubs.push({id:0,to:\"\",from:\"\"})}}};exports.default=n;\n(function(){var t=exports.default||module.exports;\"function\"==typeof t&&(t=t.options),Object.assign(t,{render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a(\"div\",[a(\"h1\",[a(\"i\",{staticClass:\"fas fa-arrow-left\",on:{click:function(e){return t.$router.go(-1)}}}),t._v(\" Iðkandi \")]),t._v(\" \"),a(\"div\",{staticClass:\"row mb-4\"},[a(\"div\",{staticClass:\"col-md-10 offset-md-1 card\"},[a(\"form\",{staticClass:\"card-body\"},[a(\"transition\",{attrs:{name:\"fade\"}},[t.updated?a(\"div\",{staticClass:\"alert alert-success\",attrs:{role:\"alert\"}},[t._v(\" Uppfærsla tókst \")]):t._e()]),t._v(\" \"),a(\"div\",{staticClass:\"form-group row\"},[a(\"label\",{staticClass:\"col-sm-3 col-form-label text-right\",attrs:{for:\"athlete.id\"}},[t._v(\"Númer:\")]),t._v(\" \"),a(\"div\",{staticClass:\"col-sm-9\"},[a(\"input\",{directives:[{name:\"model\",rawName:\"v-model\",value:t.athlete.id,expression:\"athlete.id\"}],staticClass:\"form-control-plaintext\",attrs:{id:\"athlete.id\",type:\"text\",readonly:\"\"},domProps:{value:t.athlete.id},on:{input:function(e){e.target.composing||t.$set(t.athlete,\"id\",e.target.value)}}})])]),t._v(\" \"),a(\"div\",{staticClass:\"form-group row\"},[a(\"label\",{staticClass:\"col-sm-3 col-form-label text-right\",attrs:{for:\"athlete.fullName\"}},[t._v(\"Fullt nafn:\")]),t._v(\" \"),a(\"div\",{staticClass:\"col-sm-9\"},[a(\"input\",{directives:[{name:\"model\",rawName:\"v-model\",value:t.athlete.fullName,expression:\"athlete.fullName\"}],staticClass:\"form-control\",attrs:{id:\"athlete.fullName\",type:\"text\",disabled:t.working},domProps:{value:t.athlete.fullName},on:{input:function(e){e.target.composing||t.$set(t.athlete,\"fullName\",e.target.value)}}})])]),t._v(\" \"),a(\"div\",{staticClass:\"form-group row\"},[a(\"label\",{staticClass:\"col-sm-3 col-form-label text-right\",attrs:{for:\"athlete.ssnr\"}},[t._v(\"Kennitala:\")]),t._v(\" \"),a(\"div\",{staticClass:\"col-sm-9\"},[a(\"input\",{directives:[{name:\"model\",rawName:\"v-model\",value:t.athlete.ssnr,expression:\"athlete.ssnr\"}],staticClass:\"form-control\",attrs:{id:\"athlete.ssnr\",type:\"text\",disabled:t.working},domProps:{value:t.athlete.ssnr},on:{input:function(e){e.target.composing||t.$set(t.athlete,\"ssnr\",e.target.value)}}})]),t._v(\" \"),t.validSSNR()?t._e():a(\"div\",{staticClass:\"col-md-10 offset-md-2 py-2\"},[a(\"div\",{staticClass:\"alert alert-warning\"},[t._v(\" Kennitala er ekki á réttu formi. \")])])]),t._v(\" \"),a(\"div\",{staticClass:\"form-group row\"},[a(\"label\",{staticClass:\"col-sm-3 col-form-label text-right\",attrs:{for:\"athlete.birthyear\"}},[t._v(\"Fæðingarár:\")]),t._v(\" \"),a(\"div\",{staticClass:\"col-sm-9\"},[a(\"input\",{directives:[{name:\"model\",rawName:\"v-model\",value:t.athlete.birthyear,expression:\"athlete.birthyear\"}],staticClass:\"form-control\",attrs:{id:\"athlete.birthyear\",type:\"text\",disabled:t.working},domProps:{value:t.athlete.birthyear},on:{input:function(e){e.target.composing||t.$set(t.athlete,\"birthyear\",e.target.value)}}})])]),t._v(\" \"),a(\"div\",{staticClass:\"form-group row\"},[a(\"label\",{staticClass:\"col-sm-3 col-form-label text-right\",attrs:{for:\"athlete.country\"}},[t._v(\"Þjóðerni:\")]),t._v(\" \"),a(\"div\",{staticClass:\"col-sm-9\"},[a(\"select\",{directives:[{name:\"model\",rawName:\"v-model\",value:t.athlete.country,expression:\"athlete.country\"}],staticClass:\"form-control\",attrs:{id:\"athlete.country\",disabled:t.working},on:{change:function(e){var a=Array.prototype.filter.call(e.target.options,function(t){return t.selected}).map(function(t){return\"_value\"in t?t._value:t.value});t.$set(t.athlete,\"country\",e.target.multiple?a:a[0])}}},t._l(t.countries,function(e){return a(\"option\",{key:e.code,domProps:{value:e.code}},[t._v(\" \"+t._s(e.name)+\" \")])}),0)])]),t._v(\" \"),a(\"div\",{staticClass:\"form-group row\"},[a(\"legend\",{staticClass:\"col-form-label col-sm-3 pt-0 text-right\"},[t._v(\" Kyn: \")]),t._v(\" \"),a(\"div\",{staticClass:\"col-sm-9 text-left\"},[a(\"div\",{staticClass:\"form-check form-check-inline\"},[a(\"input\",{directives:[{name:\"model\",rawName:\"v-model\",value:t.athlete.gender,expression:\"athlete.gender\"}],staticClass:\"form-check-input\",attrs:{id:\"athlete.gender1\",type:\"radio\",name:\"athlete.gender\",value:\"1\",disabled:t.working},domProps:{checked:t._q(t.athlete.gender,\"1\")},on:{change:function(e){return t.$set(t.athlete,\"gender\",\"1\")}}}),t._v(\" \"),a(\"label\",{staticClass:\"form-check-label\",attrs:{for:\"athlete.gender1\"}},[t._v(\"Karl\")])]),t._v(\" \"),a(\"div\",{staticClass:\"form-check form-check-inline\"},[a(\"input\",{directives:[{name:\"model\",rawName:\"v-model\",value:t.athlete.gender,expression:\"athlete.gender\"}],staticClass:\"form-check-input\",attrs:{id:\"athlete.gender2\",type:\"radio\",name:\"athlete.gender\",value:\"2\",disabled:t.working},domProps:{checked:t._q(t.athlete.gender,\"2\")},on:{change:function(e){return t.$set(t.athlete,\"gender\",\"2\")}}}),t._v(\" \"),a(\"label\",{staticClass:\"form-check-label\",attrs:{for:\"athlete.gender2\"}},[t._v(\"Kona\")])])])]),t._v(\" \"),a(\"div\",{staticClass:\"form-group row\"},[a(\"label\",{staticClass:\"col-sm-3 col-form-label text-right\",attrs:{for:\"athlete.id\"}},[t._v(\"Fiffó númer:\")]),t._v(\" \"),a(\"div\",{staticClass:\"col-sm-9\"},[a(\"input\",{directives:[{name:\"model\",rawName:\"v-model\",value:t.athlete.thorId,expression:\"athlete.thorId\"}],staticClass:\"form-control-plaintext\",attrs:{id:\"athlete.id\",type:\"text\",readonly:\"\",disabled:t.working},domProps:{value:t.athlete.thorId},on:{input:function(e){e.target.composing||t.$set(t.athlete,\"thorId\",e.target.value)}}})])]),t._v(\" \"),a(\"div\",{staticClass:\"form-group row\"},[a(\"legend\",{staticClass:\"col-form-label col-sm-3 text-right\"},[t._v(\" Félagasaga: \")]),t._v(\" \"),a(\"div\",{staticClass:\"col-sm-9 text-left\"},[t._l(t.athlete.clubs,function(e,s){return a(\"div\",{key:e.id,staticClass:\"form-row py-1\"},[a(\"div\",{staticClass:\"col-md-5\"},[a(\"select\",{directives:[{name:\"model\",rawName:\"v-model\",value:e.id,expression:\"club.id\"}],staticClass:\"form-control\",attrs:{disabled:t.working},on:{change:function(a){var s=Array.prototype.filter.call(a.target.options,function(t){return t.selected}).map(function(t){return\"_value\"in t?t._value:t.value});t.$set(e,\"id\",a.target.multiple?s:s[0])}}},t._l(t.clubs,function(e){return a(\"option\",{key:e.id,domProps:{value:e.id}},[t._v(\" \"+t._s(e.fullName)+\" \")])}),0)]),t._v(\" \"),a(\"div\",{staticClass:\"col-md-3\"},[a(\"input\",{directives:[{name:\"model\",rawName:\"v-model\",value:e.from,expression:\"club.from\"}],staticClass:\"form-control\",attrs:{type:\"text\",placeholder:\"Fra\",disabled:t.working},domProps:{value:e.from},on:{input:function(a){a.target.composing||t.$set(e,\"from\",a.target.value)}}})]),t._v(\" \"),a(\"div\",{staticClass:\"col-md-3\"},[a(\"input\",{directives:[{name:\"model\",rawName:\"v-model\",value:e.to,expression:\"club.to\"}],staticClass:\"form-control\",attrs:{type:\"text\",placeholder:\"Til\",disabled:t.working},domProps:{value:e.to},on:{input:function(a){a.target.composing||t.$set(e,\"to\",a.target.value)}}})]),t._v(\" \"),a(\"div\",{staticClass:\"col-md-1\"},[a(\"button\",{staticClass:\"btn btn-default\",attrs:{disabled:t.working},on:{click:function(e){return e.preventDefault(),t.removeClub(s)}}},[t._v(\" - \")])]),t._v(\" \"),!e.id&&e.legacyTeam?a(\"div\",{staticClass:\"col-md-12 py-2\"},[a(\"div\",{staticClass:\"alert alert-warning\"},[a(\"strong\",[t._v(\"Vinsamlegast lagið skráningu\")]),t._v(\" \"),a(\"p\",[t._v(\"Þessi aðili var skráður í \"),a(\"em\",[t._v(t._s(e.legacyTeam))]),t._v(\" í gamla grunninum sem er hugsanlega ekki rétt.\")]),t._v(\" \"),a(\"p\",[t._v(\"Athugið að iðkendur eiga vera skráðir íþrótta- eða ungmennafélög, ekki héraðssambönd, íþróttabandlög eða gervi-lið.\")]),t._v(\" \"),t._m(0,!0)])]):t._e()])}),t._v(\" \"),a(\"div\",{staticClass:\"form-row py-1\"},[a(\"div\",{staticClass:\"col-md-1 offset-md-11\"},[a(\"button\",{staticClass:\"btn btn-default\",attrs:{disabled:t.working},on:{click:function(e){return e.preventDefault(),t.addClub(e)}}},[t._v(\" + \")])])])],2)]),t._v(\" \"),a(\"div\",{staticClass:\"form-group row\"},[a(\"div\",{staticClass:\"col-sm-3 text-right\"},[t._v(\" Yfirfarið: \")]),t._v(\" \"),a(\"div\",{staticClass:\"col-sm-9 text-left\"},[t.athlete.confirmedByUser?t._e():a(\"div\",{staticClass:\"form-check\"},[a(\"input\",{directives:[{name:\"model\",rawName:\"v-model\",value:t.athlete.verified,expression:\"athlete.verified\"}],staticClass:\"form-check-input\",attrs:{id:\"athlete.verified\",type:\"checkbox\"},domProps:{checked:Array.isArray(t.athlete.verified)?t._i(t.athlete.verified,null)>-1:t.athlete.verified},on:{change:function(e){var a=t.athlete.verified,s=e.target,l=!!s.checked;if(Array.isArray(a)){var r=t._i(a,null);s.checked?r<0&&t.$set(t.athlete,\"verified\",a.concat([null])):r>-1&&t.$set(t.athlete,\"verified\",a.slice(0,r).concat(a.slice(r+1)))}else t.$set(t.athlete,\"verified\",l)}}}),t._v(\" \"),a(\"label\",{staticClass:\"form-check-label\",attrs:{for:\"athlete.verified\"}},[t._v(\"Staðfesta að allir reitir og félagasaga sé rétt.\")])]),t._v(\" \"),t.athlete.confirmedByUser?a(\"div\",[a(\"i\",{staticClass:\"fas fa-check-circle verified\"}),t._v(\" Upplýsingar um iðkanda hafa verið staðfestar. \")]):t._e()])]),t._v(\" \"),a(\"button\",{staticClass:\"btn btn-secondary mt-4\",attrs:{type:\"submit\",disabled:t.working},on:{click:function(e){return e.preventDefault(),t.update(e)}}},[t._v(\" Vista \")])],1)])])])},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e(\"p\",[this._v(\"Sé liðið með réttu íþrótta- eða ungmennafélag þarf að stofna það sérstaklega. Vinsamlegast sendið beiðni á \"),e(\"a\",{attrs:{href:\"mailto:skraningarnefnd@fri.is\"}},[this._v(\"skraningarnefnd@fri.is\")])])}],_compiled:!0,_scopeId:null,functional:void 0});})();","css":"h1 i{cursor:pointer;padding-right:10px}.fa-check-circle{color:#ccc;font-size:20px}.fa-check-circle.verified{color:#c3e6cb}.fade-enter-active,.fade-leave-active{transition:opacity .5s}.fade-enter,.fade-leave-to{opacity:0}"},"sourceMaps":{"js":{"mappings":[{"source":"views/idkandi.vue","name":null,"original":{"line":287,"column":0},"generated":{"line":1,"column":0}},{"source":"views/idkandi.vue","name":null,"original":{"line":287,"column":0},"generated":{"line":1,"column":13}},{"source":"views/idkandi.vue","name":null,"original":{"line":287,"column":0},"generated":{"line":1,"column":20}},{"source":"views/idkandi.vue","name":null,"original":{"line":287,"column":0},"generated":{"line":1,"column":35}},{"source":"views/idkandi.vue","name":null,"original":{"line":287,"column":0},"generated":{"line":1,"column":43}},{"source":"views/idkandi.vue","name":null,"original":{"line":287,"column":0},"generated":{"line":1,"column":56}},{"source":"views/idkandi.vue","name":null,"original":{"line":287,"column":0},"generated":{"line":1,"column":57}},{"source":"views/idkandi.vue","name":null,"original":{"line":287,"column":0},"generated":{"line":1,"column":64}},{"source":"views/idkandi.vue","name":null,"original":{"line":287,"column":0},"generated":{"line":1,"column":68}},{"source":"views/idkandi.vue","name":null,"original":{"line":287,"column":0},"generated":{"line":1,"column":76}},{"source":"views/idkandi.vue","name":null,"original":{"line":287,"column":0},"generated":{"line":1,"column":89}},{"source":"views/idkandi.vue","name":null,"original":{"line":284,"column":0},"generated":{"line":1,"column":91}},{"source":"views/idkandi.vue","name":null,"original":{"line":284,"column":0},"generated":{"line":1,"column":95}},{"source":"views/idkandi.vue","name":null,"original":{"line":284,"column":0},"generated":{"line":1,"column":97}},{"source":"views/idkandi.vue","name":null,"original":{"line":284,"column":0},"generated":{"line":1,"column":99}},{"source":"views/idkandi.vue","name":null,"original":{"line":284,"column":0},"generated":{"line":1,"column":107}},{"source":"views/idkandi.vue","name":null,"original":{"line":285,"column":0},"generated":{"line":1,"column":122}},{"source":"views/idkandi.vue","name":null,"original":{"line":285,"column":0},"generated":{"line":1,"column":124}},{"source":"views/idkandi.vue","name":null,"original":{"line":285,"column":0},"generated":{"line":1,"column":132}},{"source":"views/idkandi.vue","name":null,"original":{"line":287,"column":0},"generated":{"line":1,"column":153}},{"source":"views/idkandi.vue","name":null,"original":{"line":287,"column":0},"generated":{"line":1,"column":162}},{"source":"views/idkandi.vue","name":null,"original":{"line":287,"column":0},"generated":{"line":1,"column":164}},{"source":"views/idkandi.vue","name":null,"original":{"line":287,"column":0},"generated":{"line":1,"column":167}},{"source":"views/idkandi.vue","name":null,"original":{"line":287,"column":0},"generated":{"line":1,"column":174}},{"source":"views/idkandi.vue","name":null,"original":{"line":287,"column":0},"generated":{"line":1,"column":177}},{"source":"views/idkandi.vue","name":null,"original":{"line":287,"column":0},"generated":{"line":1,"column":179}},{"source":"views/idkandi.vue","name":null,"original":{"line":287,"column":0},"generated":{"line":1,"column":190}},{"source":"views/idkandi.vue","name":null,"original":{"line":287,"column":0},"generated":{"line":1,"column":192}},{"source":"views/idkandi.vue","name":null,"original":{"line":287,"column":0},"generated":{"line":1,"column":193}},{"source":"views/idkandi.vue","name":null,"original":{"line":287,"column":0},"generated":{"line":1,"column":201}},{"source":"views/idkandi.vue","name":null,"original":{"line":287,"column":0},"generated":{"line":1,"column":204}},{"source":"views/idkandi.vue","name":null,"original":{"line":287,"column":0},"generated":{"line":1,"column":208}},{"source":"views/idkandi.vue","name":null,"original":{"line":287,"column":0},"generated":{"line":1,"column":210}},{"source":"views/idkandi.vue","name":null,"original":{"line":288,"column":0},"generated":{"line":1,"column":211}},{"source":"views/idkandi.vue","name":null,"original":{"line":288,"column":0},"generated":{"line":1,"column":216}},{"source":"views/idkandi.vue","name":null,"original":{"line":289,"column":0},"generated":{"line":1,"column":226}},{"source":"views/idkandi.vue","name":null,"original":{"line":289,"column":0},"generated":{"line":1,"column":231}},{"source":"views/idkandi.vue","name":null,"original":{"line":290,"column":0},"generated":{"line":1,"column":242}},{"source":"views/idkandi.vue","name":null,"original":{"line":290,"column":0},"generated":{"line":1,"column":248}},{"source":"views/idkandi.vue","name":null,"original":{"line":291,"column":0},"generated":{"line":1,"column":249}},{"source":"views/idkandi.vue","name":null,"original":{"line":291,"column":0},"generated":{"line":1,"column":258}},{"source":"views/idkandi.vue","name":null,"original":{"line":292,"column":0},"generated":{"line":1,"column":260}},{"source":"views/idkandi.vue","name":null,"original":{"line":292,"column":0},"generated":{"line":1,"column":268}},{"source":"views/idkandi.vue","name":null,"original":{"line":293,"column":0},"generated":{"line":1,"column":271}},{"source":"views/idkandi.vue","name":null,"original":{"line":293,"column":0},"generated":{"line":1,"column":281}},{"source":"views/idkandi.vue","name":null,"original":{"line":294,"column":0},"generated":{"line":1,"column":284}},{"source":"views/idkandi.vue","name":null,"original":{"line":294,"column":0},"generated":{"line":1,"column":290}},{"source":"views/idkandi.vue","name":null,"original":{"line":295,"column":0},"generated":{"line":1,"column":293}},{"source":"views/idkandi.vue","name":null,"original":{"line":295,"column":0},"generated":{"line":1,"column":301}},{"source":"views/idkandi.vue","name":null,"original":{"line":298,"column":0},"generated":{"line":1,"column":308}},{"source":"views/idkandi.vue","name":null,"original":{"line":298,"column":0},"generated":{"line":1,"column":316}},{"source":"views/idkandi.vue","name":null,"original":{"line":298,"column":0},"generated":{"line":1,"column":327}},{"source":"views/idkandi.vue","name":null,"original":{"line":298,"column":0},"generated":{"line":1,"column":331}},{"source":"views/idkandi.vue","name":null,"original":{"line":298,"column":0},"generated":{"line":1,"column":333}},{"source":"views/idkandi.vue","name":null,"original":{"line":300,"column":0},"generated":{"line":1,"column":338}},{"source":"views/idkandi.vue","name":null,"original":{"line":300,"column":0},"generated":{"line":1,"column":340}},{"source":"views/idkandi.vue","name":null,"original":{"line":300,"column":0},"generated":{"line":1,"column":348}},{"source":"views/idkandi.vue","name":null,"original":{"line":300,"column":0},"generated":{"line":1,"column":352}},{"source":"views/idkandi.vue","name":null,"original":{"line":300,"column":0},"generated":{"line":1,"column":399}},{"source":"views/idkandi.vue","name":null,"original":{"line":300,"column":0},"generated":{"line":1,"column":404}},{"source":"views/idkandi.vue","name":null,"original":{"line":300,"column":0},"generated":{"line":1,"column":411}},{"source":"views/idkandi.vue","name":null,"original":{"line":300,"column":0},"generated":{"line":1,"column":418}},{"source":"views/idkandi.vue","name":null,"original":{"line":301,"column":0},"generated":{"line":1,"column":422}},{"source":"views/idkandi.vue","name":null,"original":{"line":301,"column":0},"generated":{"line":1,"column":427}},{"source":"views/idkandi.vue","name":null,"original":{"line":301,"column":0},"generated":{"line":1,"column":436}},{"source":"views/idkandi.vue","name":null,"original":{"line":302,"column":0},"generated":{"line":1,"column":439}},{"source":"views/idkandi.vue","name":null,"original":{"line":302,"column":0},"generated":{"line":1,"column":441}},{"source":"views/idkandi.vue","name":null,"original":{"line":302,"column":0},"generated":{"line":1,"column":449}},{"source":"views/idkandi.vue","name":null,"original":{"line":302,"column":0},"generated":{"line":1,"column":451}},{"source":"views/idkandi.vue","name":null,"original":{"line":302,"column":0},"generated":{"line":1,"column":456}},{"source":"views/idkandi.vue","name":null,"original":{"line":306,"column":0},"generated":{"line":1,"column":461}},{"source":"views/idkandi.vue","name":null,"original":{"line":306,"column":0},"generated":{"line":1,"column":463}},{"source":"views/idkandi.vue","name":null,"original":{"line":306,"column":0},"generated":{"line":1,"column":471}},{"source":"views/idkandi.vue","name":null,"original":{"line":306,"column":0},"generated":{"line":1,"column":475}},{"source":"views/idkandi.vue","name":null,"original":{"line":307,"column":0},"generated":{"line":1,"column":515}},{"source":"views/idkandi.vue","name":null,"original":{"line":307,"column":0},"generated":{"line":1,"column":520}},{"source":"views/idkandi.vue","name":null,"original":{"line":307,"column":0},"generated":{"line":1,"column":529}},{"source":"views/idkandi.vue","name":null,"original":{"line":308,"column":0},"generated":{"line":1,"column":532}},{"source":"views/idkandi.vue","name":null,"original":{"line":308,"column":0},"generated":{"line":1,"column":534}},{"source":"views/idkandi.vue","name":null,"original":{"line":308,"column":0},"generated":{"line":1,"column":544}},{"source":"views/idkandi.vue","name":null,"original":{"line":308,"column":0},"generated":{"line":1,"column":546}},{"source":"views/idkandi.vue","name":null,"original":{"line":308,"column":0},"generated":{"line":1,"column":551}},{"source":"views/idkandi.vue","name":null,"original":{"line":308,"column":0},"generated":{"line":1,"column":555}},{"source":"views/idkandi.vue","name":null,"original":{"line":308,"column":0},"generated":{"line":1,"column":564}},{"source":"views/idkandi.vue","name":null,"original":{"line":308,"column":0},"generated":{"line":1,"column":567}},{"source":"views/idkandi.vue","name":null,"original":{"line":308,"column":0},"generated":{"line":1,"column":573}},{"source":"views/idkandi.vue","name":null,"original":{"line":309,"column":0},"generated":{"line":1,"column":574}},{"source":"views/idkandi.vue","name":null,"original":{"line":309,"column":0},"generated":{"line":1,"column":579}},{"source":"views/idkandi.vue","name":null,"original":{"line":309,"column":0},"generated":{"line":1,"column":581}},{"source":"views/idkandi.vue","name":null,"original":{"line":310,"column":0},"generated":{"line":1,"column":592}},{"source":"views/idkandi.vue","name":null,"original":{"line":310,"column":0},"generated":{"line":1,"column":597}},{"source":"views/idkandi.vue","name":null,"original":{"line":310,"column":0},"generated":{"line":1,"column":599}},{"source":"views/idkandi.vue","name":null,"original":{"line":315,"column":0},"generated":{"line":1,"column":615}},{"source":"views/idkandi.vue","name":null,"original":{"line":315,"column":0},"generated":{"line":1,"column":617}},{"source":"views/idkandi.vue","name":null,"original":{"line":315,"column":0},"generated":{"line":1,"column":625}},{"source":"views/idkandi.vue","name":null,"original":{"line":315,"column":0},"generated":{"line":1,"column":629}},{"source":"views/idkandi.vue","name":null,"original":{"line":316,"column":0},"generated":{"line":1,"column":674}},{"source":"views/idkandi.vue","name":null,"original":{"line":316,"column":0},"generated":{"line":1,"column":679}},{"source":"views/idkandi.vue","name":null,"original":{"line":316,"column":0},"generated":{"line":1,"column":688}},{"source":"views/idkandi.vue","name":null,"original":{"line":317,"column":0},"generated":{"line":1,"column":691}},{"source":"views/idkandi.vue","name":null,"original":{"line":317,"column":0},"generated":{"line":1,"column":693}},{"source":"views/idkandi.vue","name":null,"original":{"line":317,"column":0},"generated":{"line":1,"column":699}},{"source":"views/idkandi.vue","name":null,"original":{"line":317,"column":0},"generated":{"line":1,"column":701}},{"source":"views/idkandi.vue","name":null,"original":{"line":320,"column":0},"generated":{"line":1,"column":709}},{"source":"views/idkandi.vue","name":null,"original":{"line":320,"column":0},"generated":{"line":1,"column":717}},{"source":"views/idkandi.vue","name":null,"original":{"line":321,"column":0},"generated":{"line":1,"column":718}},{"source":"views/idkandi.vue","name":null,"original":{"line":321,"column":0},"generated":{"line":1,"column":728}},{"source":"views/idkandi.vue","name":null,"original":{"line":322,"column":0},"generated":{"line":1,"column":739}},{"source":"views/idkandi.vue","name":null,"original":{"line":322,"column":0},"generated":{"line":1,"column":746}},{"source":"views/idkandi.vue","name":null,"original":{"line":322,"column":0},"generated":{"line":1,"column":748}},{"source":"views/idkandi.vue","name":null,"original":{"line":322,"column":0},"generated":{"line":1,"column":750}},{"source":"views/idkandi.vue","name":null,"original":{"line":322,"column":0},"generated":{"line":1,"column":759}},{"source":"views/idkandi.vue","name":null,"original":{"line":322,"column":0},"generated":{"line":1,"column":764}},{"source":"views/idkandi.vue","name":null,"original":{"line":322,"column":0},"generated":{"line":1,"column":772}},{"source":"views/idkandi.vue","name":null,"original":{"line":324,"column":0},"generated":{"line":1,"column":779}},{"source":"views/idkandi.vue","name":null,"original":{"line":324,"column":0},"generated":{"line":1,"column":786}},{"source":"views/idkandi.vue","name":null,"original":{"line":324,"column":0},"generated":{"line":1,"column":797}},{"source":"views/idkandi.vue","name":null,"original":{"line":324,"column":0},"generated":{"line":1,"column":801}},{"source":"views/idkandi.vue","name":null,"original":{"line":324,"column":0},"generated":{"line":1,"column":803}},{"source":"views/idkandi.vue","name":null,"original":{"line":326,"column":0},"generated":{"line":1,"column":808}},{"source":"views/idkandi.vue","name":null,"original":{"line":325,"column":0},"generated":{"line":1,"column":815}},{"source":"views/idkandi.vue","name":null,"original":{"line":325,"column":0},"generated":{"line":1,"column":820}},{"source":"views/idkandi.vue","name":null,"original":{"line":325,"column":0},"generated":{"line":1,"column":829}},{"source":"views/idkandi.vue","name":null,"original":{"line":326,"column":0},"generated":{"line":1,"column":831}},{"source":"views/idkandi.vue","name":null,"original":{"line":327,"column":0},"generated":{"line":1,"column":833}},{"source":"views/idkandi.vue","name":null,"original":{"line":327,"column":0},"generated":{"line":1,"column":841}},{"source":"views/idkandi.vue","name":null,"original":{"line":327,"column":0},"generated":{"line":1,"column":845}},{"source":"views/idkandi.vue","name":null,"original":{"line":328,"column":0},"generated":{"line":1,"column":892}},{"source":"views/idkandi.vue","name":null,"original":{"line":328,"column":0},"generated":{"line":1,"column":897}},{"source":"views/idkandi.vue","name":null,"original":{"line":328,"column":0},"generated":{"line":1,"column":902}},{"source":"views/idkandi.vue","name":null,"original":{"line":329,"column":0},"generated":{"line":1,"column":911}},{"source":"views/idkandi.vue","name":null,"original":{"line":329,"column":0},"generated":{"line":1,"column":916}},{"source":"views/idkandi.vue","name":null,"original":{"line":329,"column":0},"generated":{"line":1,"column":925}},{"source":"views/idkandi.vue","name":null,"original":{"line":330,"column":0},"generated":{"line":1,"column":928}},{"source":"views/idkandi.vue","name":null,"original":{"line":330,"column":0},"generated":{"line":1,"column":930}},{"source":"views/idkandi.vue","name":null,"original":{"line":330,"column":0},"generated":{"line":1,"column":940}},{"source":"views/idkandi.vue","name":null,"original":{"line":330,"column":0},"generated":{"line":1,"column":942}},{"source":"views/idkandi.vue","name":null,"original":{"line":330,"column":0},"generated":{"line":1,"column":947}},{"source":"views/idkandi.vue","name":null,"original":{"line":331,"column":0},"generated":{"line":1,"column":950}},{"source":"views/idkandi.vue","name":null,"original":{"line":331,"column":0},"generated":{"line":1,"column":952}},{"source":"views/idkandi.vue","name":null,"original":{"line":331,"column":0},"generated":{"line":1,"column":961}},{"source":"views/idkandi.vue","name":null,"original":{"line":332,"column":0},"generated":{"line":1,"column":963}},{"source":"views/idkandi.vue","name":null,"original":{"line":332,"column":0},"generated":{"line":1,"column":974}},{"source":"views/idkandi.vue","name":null,"original":{"line":333,"column":0},"generated":{"line":1,"column":985}},{"source":"views/idkandi.vue","name":null,"original":{"line":333,"column":0},"generated":{"line":1,"column":987}},{"source":"views/idkandi.vue","name":null,"original":{"line":333,"column":0},"generated":{"line":1,"column":996}},{"source":"views/idkandi.vue","name":null,"original":{"line":334,"column":0},"generated":{"line":1,"column":999}},{"source":"views/idkandi.vue","name":null,"original":{"line":337,"column":0},"generated":{"line":1,"column":1007}},{"source":"views/idkandi.vue","name":null,"original":{"line":337,"column":0},"generated":{"line":1,"column":1018}},{"source":"views/idkandi.vue","name":null,"original":{"line":337,"column":0},"generated":{"line":1,"column":1027}},{"source":"views/idkandi.vue","name":null,"original":{"line":338,"column":0},"generated":{"line":1,"column":1030}},{"source":"views/idkandi.vue","name":null,"original":{"line":338,"column":0},"generated":{"line":1,"column":1035}},{"source":"views/idkandi.vue","name":null,"original":{"line":338,"column":0},"generated":{"line":1,"column":1043}},{"source":"views/idkandi.vue","name":null,"original":{"line":338,"column":0},"generated":{"line":1,"column":1049}},{"source":"views/idkandi.vue","name":null,"original":{"line":338,"column":0},"generated":{"line":1,"column":1056}},{"source":"views/idkandi.vue","name":null,"original":{"line":338,"column":0},"generated":{"line":1,"column":1058}},{"source":"views/idkandi.vue","name":null,"original":{"line":340,"column":0},"generated":{"line":1,"column":1062}},{"source":"views/idkandi.vue","name":null,"original":{"line":340,"column":0},"generated":{"line":1,"column":1070}},{"source":"views/idkandi.vue","name":null,"original":{"line":341,"column":0},"generated":{"line":1,"column":1081}},{"source":"views/idkandi.vue","name":null,"original":{"line":341,"column":0},"generated":{"line":1,"column":1086}},{"source":"views/idkandi.vue","name":null,"original":{"line":341,"column":0},"generated":{"line":1,"column":1094}},{"source":"views/idkandi.vue","name":null,"original":{"line":341,"column":0},"generated":{"line":1,"column":1100}},{"source":"views/idkandi.vue","name":null,"original":{"line":341,"column":0},"generated":{"line":1,"column":1105}},{"source":"views/idkandi.vue","name":null,"original":{"line":342,"column":0},"generated":{"line":1,"column":1106}},{"source":"views/idkandi.vue","name":null,"original":{"line":342,"column":0},"generated":{"line":1,"column":1109}},{"source":"views/idkandi.vue","name":null,"original":{"line":343,"column":0},"generated":{"line":1,"column":1111}},{"source":"views/idkandi.vue","name":null,"original":{"line":343,"column":0},"generated":{"line":1,"column":1114}},{"source":"views/idkandi.vue","name":null,"original":{"line":344,"column":0},"generated":{"line":1,"column":1117}},{"source":"views/idkandi.vue","name":null,"original":{"line":344,"column":0},"generated":{"line":1,"column":1122}},{"source":"views/idkandi.vue","name":null,"original":{"line":287,"column":0},"generated":{"line":1,"column":1130}},{"source":"views/idkandi.vue","name":null,"original":{"line":287,"column":0},"generated":{"line":1,"column":1138}},{"source":"views/idkandi.vue","name":null,"original":{"line":287,"column":0},"generated":{"line":1,"column":1146}}],"sources":{"views/idkandi.vue":"<template>\n  <div>\n    <h1>\n      <i\n        class=\"fas fa-arrow-left\"\n        @click=\"$router.go(-1)\"\n      /> Iðkandi\n    </h1>\n    <div class=\"row mb-4\">\n      <div class=\"col-md-10 offset-md-1 card\">\n        <form class=\"card-body\">\n          <transition name=\"fade\">\n            <div\n              v-if=\"updated\"\n              class=\"alert alert-success\"\n              role=\"alert\"\n            >\n              Uppfærsla tókst\n            </div>\n          </transition>\n\n          <div class=\"form-group row\">\n            <label\n              for=\"athlete.id\"\n              class=\"col-sm-3 col-form-label text-right\"\n            >Númer:</label>\n            <div class=\"col-sm-9\">\n              <input\n                id=\"athlete.id\"\n                v-model=\"athlete.id\"\n                type=\"text\"\n                readonly\n                class=\"form-control-plaintext\"\n              >\n            </div>\n          </div>\n          <div class=\"form-group row\">\n            <label\n              for=\"athlete.fullName\"\n              class=\"col-sm-3 col-form-label text-right\"\n            >Fullt nafn:</label>\n            <div class=\"col-sm-9\">\n              <input\n                id=\"athlete.fullName\"\n                v-model=\"athlete.fullName\"\n                type=\"text\"\n                class=\"form-control\"\n                :disabled=\"working\"\n              >\n            </div>\n          </div>\n          <div class=\"form-group row\">\n            <label\n              for=\"athlete.ssnr\"\n              class=\"col-sm-3 col-form-label text-right\"\n            >Kennitala:</label>\n            <div class=\"col-sm-9\">\n              <input\n                id=\"athlete.ssnr\"\n                v-model=\"athlete.ssnr\"\n                type=\"text\"\n                class=\"form-control\"\n                :disabled=\"working\"\n              >\n            </div>\n            <div\n              v-if=\"!validSSNR()\"\n              class=\"col-md-10 offset-md-2 py-2\"\n            >\n              <div class=\"alert alert-warning\">\n                Kennitala er ekki á réttu formi.\n              </div>\n            </div>\n          </div>\n          <div class=\"form-group row\">\n            <label\n              for=\"athlete.birthyear\"\n              class=\"col-sm-3 col-form-label text-right\"\n            >Fæðingarár:</label>\n            <div class=\"col-sm-9\">\n              <input\n                id=\"athlete.birthyear\"\n                v-model=\"athlete.birthyear\"\n                type=\"text\"\n                class=\"form-control\"\n                :disabled=\"working\"\n              >\n            </div>\n          </div>\n          <div class=\"form-group row\">\n            <label\n              for=\"athlete.country\"\n              class=\"col-sm-3 col-form-label text-right\"\n            >Þjóðerni:</label>\n            <div class=\"col-sm-9\">\n              <select\n                id=\"athlete.country\"\n                v-model=\"athlete.country\"\n                class=\"form-control\"\n                :disabled=\"working\"\n              >\n                <option\n                  v-for=\"country in countries\"\n                  :key=\"country.code\"\n                  :value=\"country.code\"\n                >\n                  {{ country.name }}\n                </option>\n              </select>\n            </div>\n          </div>\n          <div class=\"form-group row\">\n            <legend class=\"col-form-label col-sm-3 pt-0 text-right\">\n              Kyn:\n            </legend>\n            <div class=\"col-sm-9 text-left\">\n              <div class=\"form-check form-check-inline\">\n                <input\n                  id=\"athlete.gender1\"\n                  v-model=\"athlete.gender\"\n                  class=\"form-check-input\"\n                  type=\"radio\"\n                  name=\"athlete.gender\"\n                  value=\"1\"\n                  :disabled=\"working\"\n                >\n                <label\n                  class=\"form-check-label\"\n                  for=\"athlete.gender1\"\n                >Karl</label>\n              </div>\n              <div class=\"form-check form-check-inline\">\n                <input\n                  id=\"athlete.gender2\"\n                  v-model=\"athlete.gender\"\n                  class=\"form-check-input\"\n                  type=\"radio\"\n                  name=\"athlete.gender\"\n                  value=\"2\"\n                  :disabled=\"working\"\n                >\n                <label\n                  class=\"form-check-label\"\n                  for=\"athlete.gender2\"\n                >Kona</label>\n              </div>\n            </div>\n          </div>\n          <div class=\"form-group row\">\n            <label\n              for=\"athlete.id\"\n              class=\"col-sm-3 col-form-label text-right\"\n            >Fiffó númer:</label>\n            <div class=\"col-sm-9\">\n              <input\n                id=\"athlete.id\"\n                v-model=\"athlete.thorId\"\n                type=\"text\"\n                readonly\n                class=\"form-control-plaintext\"\n                :disabled=\"working\"\n              >\n            </div>\n          </div>\n          <div class=\"form-group row\">\n            <legend class=\"col-form-label col-sm-3 text-right\">\n              Félagasaga:\n            </legend>\n            <div class=\"col-sm-9 text-left\">\n              <div\n                v-for=\"(club,index) in athlete.clubs\"\n                :key=\"club.id\"\n                class=\"form-row py-1\"\n              >\n                <div class=\"col-md-5\">\n                  <select\n                    id=\"\"\n                    v-model=\"club.id\"\n                    class=\"form-control\"\n                    :disabled=\"working\"\n                  >\n                    <option\n                      v-for=\"club in clubs\"\n                      :key=\"club.id\"\n                      :value=\"club.id\"\n                    >\n                      {{ club.fullName }}\n                    </option>\n                  </select>\n                </div>\n                <div class=\"col-md-3\">\n                  <input\n                    v-model=\"club.from\"\n                    type=\"text\"\n                    class=\"form-control\"\n                    placeholder=\"Fra\"\n                    :disabled=\"working\"\n                  >\n                </div>\n                <div class=\"col-md-3\">\n                  <input\n                    v-model=\"club.to\"\n                    type=\"text\"\n                    class=\"form-control\"\n                    placeholder=\"Til\"\n                    :disabled=\"working\"\n                  >\n                </div>\n                <div class=\"col-md-1\">\n                  <button\n                    class=\"btn btn-default\"\n                    :disabled=\"working\"\n                    @click.prevent=\"removeClub(index)\"\n                  >\n                    -\n                  </button>\n                </div>\n                <div\n                  v-if=\"!club.id && club.legacyTeam\"\n                  class=\"col-md-12 py-2\"\n                >\n                  <div class=\"alert alert-warning\">\n                    <strong>Vinsamlegast lagið skráningu</strong>\n                    <p>Þessi aðili var skráður í <em>{{ club.legacyTeam }}</em> í gamla grunninum sem er hugsanlega ekki rétt.</p>\n                    <p>Athugið að iðkendur eiga vera skráðir íþrótta- eða ungmennafélög, ekki héraðssambönd, íþróttabandlög eða gervi-lið.</p>\n                    <p>Sé liðið með réttu íþrótta- eða ungmennafélag þarf að stofna það sérstaklega. Vinsamlegast sendið beiðni á <a href=\"mailto:skraningarnefnd@fri.is\">skraningarnefnd@fri.is</a></p>\n                  </div>\n                </div>\n              </div>\n              <div class=\"form-row py-1\">\n                <div class=\"col-md-1 offset-md-11\">\n                  <button\n                    class=\"btn btn-default\"\n                    :disabled=\"working\"\n                    @click.prevent=\"addClub\"\n                  >\n                    +\n                  </button>\n                </div>\n              </div>\n            </div>\n          </div>\n          <div class=\"form-group row\">\n            <div class=\"col-sm-3 text-right\">\n              Yfirfarið:\n            </div>\n            <div class=\"col-sm-9 text-left\">\n              <div\n                v-if=\"!athlete.confirmedByUser\"\n                class=\"form-check\"\n              >\n                <input\n                  id=\"athlete.verified\"\n                  v-model=\"athlete.verified\"\n                  type=\"checkbox\"\n                  class=\"form-check-input\"\n                >\n                <label\n                  class=\"form-check-label\"\n                  for=\"athlete.verified\"\n                >Staðfesta að allir reitir og félagasaga sé rétt.</label>\n              </div>\n              <div v-if=\"athlete.confirmedByUser\">\n                <i class=\"fas fa-check-circle verified\" /> Upplýsingar um iðkanda hafa verið staðfestar.\n              </div>\n            </div>\n          </div>\n          <button\n            type=\"submit\"\n            class=\"btn btn-secondary mt-4\"\n            :disabled=\"working\"\n            @click.prevent=\"update\"\n          >\n            Vista\n          </button>\n        </form>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\n// @ is an alias to /src\nimport agent from 'superagent'\nimport { isValid } from 'kennitala-utility'\n\nexport default {\n  name: 'Idkandi',\n  data () {\n    return {\n      working: false,\n      athlete: {},\n      countries: [],\n      clubs: [],\n      updated: null\n    }\n  },\n  mounted () {\n    agent\n      .get(process.env.VUE_APP_API_HOST + '/athletes/' + this.$route.params.id)\n      .then(res => {\n        this.athlete = res.body[0]\n      })\n\n    agent\n      .get('https://restcountries.eu/rest/v2/all')\n      .then(res => {\n        this.countries = res.body.map(country => ({\n          name: country.nativeName,\n          code: country.alpha3Code\n        }))\n      })\n\n    agent\n      .get(process.env.VUE_APP_API_HOST + '/clubs/')\n      .then(res => {\n        this.clubs = res.body\n      })\n  },\n  methods: {\n    validSSNR () {\n      return isValid(this.athlete.ssnr)\n    },\n    update () {\n      this.working = true\n      return agent\n        .put(process.env.VUE_APP_API_HOST + '/athletes')\n        .send(this.athlete)\n        .then(res => {\n          this.updated = !!res.body.id\n          this.working = false\n          setTimeout(() => {\n            this.updated = false\n          }, 2000)\n        })\n    },\n    removeClub (index) {\n      this.athlete.clubs.splice(index, 1)\n    },\n    addClub () {\n      this.athlete.clubs.push({\n        id: 0,\n        to: '',\n        from: ''\n      })\n    }\n  }\n}\n</script>\n\n<style>\nh1 i {\n  cursor: pointer;\n  padding-right: 10px\n}\n\n.fa-check-circle {\n  color: #ccc;\n  font-size: 20px;\n}\n\n.fa-check-circle.verified {\n  color: #c3e6cb\n}\n\n.fade-enter-active, .fade-leave-active {\n  transition: opacity .5s;\n}\n.fade-enter, .fade-leave-to /* .fade-leave-active below version 2.1.8 */ {\n  opacity: 0;\n}\n</style>\n"},"lineCount":null}},"error":null,"hash":"fd6beef0e9153e7e9798508a57dea17e","cacheData":{"env":{}}}